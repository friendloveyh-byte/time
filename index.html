<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>자격검정 종료시간</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #f5f5f5;
        font-family: "Segoe UI", Arial, sans-serif;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        text-align: center;
    }

    h1 {
        font-size: 42px;
        font-weight: 700;
        margin-bottom: 30px;
    }

    .row {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
    }

    input {
        width: 100px;
        height: 60px;
        font-size: 26px;
        text-align: center;
        border: 2px solid #ccc;
        border-radius: 12px;
    }

    button {
        background: #2ecc71;
        border: none;
        padding: 15px 40px;
        font-size: 22px;
        color: #fff;
        border-radius: 12px;
        cursor: pointer;
        margin-top: 10px;
    }

    #resetBtn {
        background: #e74c3c;
        margin-top: 30px;
    }

    .time-display {
        display: none;
        flex-direction: column;
        align-items: center;
    }

    #nowTime {
        font-size: 42px;
        font-weight: bold;
    }

    #endTime {
        font-size: 24px;
        color: #555;
        margin-top: 5px;
    }

    #leftTime {
        margin-top: 30px;
        font-size: 56px;
        font-weight: 800;
        color: red;
    }
</style>
</head>
<body>

<div id="inputArea">
    <h1>자격검정 종료시간</h1>

    <div class="row">
        <input id="hour" type="number" placeholder="시" min="0" max="23">
        <input id="minute" type="number" placeholder="분" min="0" max="59">
    </div>

    <button onclick="setTime()">설정</button>
</div>

<div id="displayArea" class="time-display">
    <div id="nowTime"></div>
    <div id="endTime"></div>
    <div id="leftTime"></div>
    <button id="resetBtn" onclick="resetAll()">재설정</button>
</div>

<script>
let endHour = null;
let endMinute = null;

function setTime() {
    endHour = document.getElementById("hour").value;
    endMinute = document.getElementById("minute").value;

    if (endHour === "" || endMinute === "") {
        alert("시와 분을 모두 입력하세요.");
        return;
    }

    document.getElementById("inputArea").style.display = "none";
    document.getElementById("displayArea").style.display = "flex";

    updateClock();
    setInterval(updateClock, 1000);
}

function updateClock() {
    const now = new Date();
    const nowH = now.getHours();
    const nowM = now.getMinutes();
    const nowS = now.getSeconds();

    document.getElementById("nowTime").innerText =
        `현재시간 : ${nowH}시 ${nowM}분 ${nowS}초`;

    document.getElementById("endTime").innerText =
        `(종료시간 : ${endHour}시 ${endMinute}분)`;

    let end = new Date();
    end.setHours(endHour);
    end.setMinutes(endMinute);
    end.setSeconds(0);

    let diff = (end - now) / 1000;

    if (diff < 0) {
        document.getElementById("leftTime").innerText = "종료됨";
        return;
    }

    const h = Math.floor(diff / 3600);
    const m = Math.floor((diff % 3600) / 60);
    const s = Math.floor(diff % 60);

    document.getElementById("leftTime").innerText =
        `${h}시간 ${m}분 ${s}초`;
}

function resetAll() {
    location.reload();
}
</script>

</body>
</html>
