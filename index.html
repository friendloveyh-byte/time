<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìê²©ê²€ì • ì¢…ë£Œì‹œê°„</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            background: #efefef;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .container {
            margin-top: 40px;
        }

        h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 40px;
        }

        /* ì…ë ¥ ë°•ìŠ¤ */
        .input-box {
            width: 130px;
            height: 65px;
            font-size: 32px;
            text-align: center;
            border-radius: 12px;
            border: 2px solid #ccc;
            margin: 0 10px;
            background: white;
        }

        button {
            width: 220px;
            height: 70px;
            font-size: 32px;
            border: none;
            border-radius: 14px;
            cursor: pointer;
            margin-top: 30px;
        }

        .set-btn {
            background: #1ec64b;
            color: white;
        }

        .reset-btn {
            background: #d9534f;
            color: white;
            margin-top: 50px;
        }

        /* íƒ€ì´ë¨¸ í™”ë©´ */
        #currentTime {
            font-size: 48px;
            font-weight: 700;
            margin-top: 40px;
        }

        #endTime {
            font-size: 28px;
            color: gray;
            margin-top: 10px;
        }

        /* ë‚¨ì€ì‹œê°„ ì „ì²´ ë°•ìŠ¤ */
        #remainGroup {
            display: inline-block;
            margin-top: 60px;

            padding: 35px 0;

            width: 80%;              /* ğŸ”¥ ê³ ì •í­ */
            max-width: 900px;        /* ë°ìŠ¤í¬íƒ‘ì—ì„œë„ ì¼ì • í­ ìœ ì§€ */

            border: 4px solid red;
            border-radius: 35px;
            background: #efefef;
        }

        /* ë‚¨ì€ì‹œê°„ í…ìŠ¤íŠ¸ */
        #remainLabel {
            font-size: 50px;         /* ğŸ”¥ ì¡°ê¸ˆ ë” í¬ê²Œ */
            color: red;
            font-weight: 800;
            letter-spacing: 12px;    /* ğŸ”¥ ë‚¨ ì€ ì‹œ ê°„ ê°„ê²© ë„ìš°ê¸° */
        }

        /* ë‚¨ì€ì‹œê°„ ìˆ«ì */
        #remainTime {
            font-size: 80px;
            font-weight: 800;
            color: red;
            margin-top: 20px;
            display: block;
        }

        /* ì„¤ì • í™”ë©´ í˜„ì¬ì‹œê°„ */
        #setupNow {
            font-size: 36px;
            margin-top: 50px;
            font-weight: 700;
        }
    </style>
</head>
<body>

<!-- ì„¤ì • í™”ë©´ -->
<div class="container" id="setup">
    <h1>ìê²©ê²€ì • ì¢…ë£Œì‹œê°„</h1>

    <input id="hour" class="input-box" placeholder="ì‹œ">
    <input id="minute" class="input-box" placeholder="ë¶„">

    <br>
    <button class="set-btn" onclick="setTime()">ì„¤ì •</button>

    <div id="setupNow">í˜„ì¬ì‹œê°„ : --ì‹œ --ë¶„ --ì´ˆ</div>
</div>

<!-- íƒ€ì´ë¨¸ í™”ë©´ -->
<div class="container" id="timer" style="display:none;">
    <div id="currentTime"></div>
    <div id="endTime"></div>

    <div id="remainGroup">
        <div id="remainLabel">ë‚¨ ì€ ì‹œ ê°„</div>
        <span id="remainTime">0ì‹œê°„ 0ë¶„ 0ì´ˆ</span>
    </div>

    <br>
    <button class="reset-btn" onclick="resetTimer()">ì¬ì„¤ì •</button>
</div>

<script>
    let targetHour = null;
    let targetMinute = null;

    /* ğŸš€ ë°©ë²• B: ë¡œì»¬ ì‹œê°„ ì‚¬ìš© â†’ ë”œë ˆì´ ì—†ìŒ */
    function getKST() {
        return new Date();
    }

    function updateSetupClock() {
        let now = getKST();
        document.getElementById("setupNow").textContent =
            `í˜„ì¬ì‹œê°„ : ${now.getHours()}ì‹œ ${now.getMinutes()}ë¶„ ${now.getSeconds()}ì´ˆ`;
    }

    setInterval(updateSetupClock, 1000);
    updateSetupClock();

    function setTime() {
        targetHour = parseInt(document.getElementById("hour").value);
        targetMinute = parseInt(document.getElementById("minute").value);

        if (isNaN(targetHour) || isNaN(targetMinute)) {
            alert("ì‹œê°„ì„ ì •í™•íˆ ì…ë ¥í•˜ì„¸ìš”.");
            return;
        }

        document.getElementById("setup").style.display = "none";
        document.getElementById("timer").style.display = "block";

        updateTimer();
        setInterval(updateTimer, 1000);
    }

    function updateTimer() {
        let now = getKST();

        let nowH = now.getHours();
        let nowM = now.getMinutes();
        let nowS = now.getSeconds();

        document.getElementById("currentTime").textContent =
            `í˜„ì¬ì‹œê°„ : ${nowH}ì‹œ ${nowM}ë¶„ ${nowS}ì´ˆ`;

        document.getElementById("endTime").textContent =
            `(ì¢…ë£Œì‹œê°„ : ${targetHour}ì‹œ ${targetMinute}ë¶„)`;

        let end = new Date(now);
        end.setHours(targetHour);
        end.setMinutes(targetMinute);
        end.setSeconds(0);

        if (end < now) {
            end.setDate(end.getDate() + 1);
        }

        let diff = Math.floor((end - now) / 1000);

        let h = Math.floor(diff / 3600);
        let m = Math.floor((diff % 3600) / 60);
        let s = diff % 60;

        document.getElementById("remainTime").textContent =
            `${h}ì‹œê°„ ${m}ë¶„ ${s}ì´ˆ`;
    }

    function resetTimer() {
        document.getElementById("timer").style.display = "none";
        document.getElementById("setup").style.display = "block";
    }
</script>

</body>
</html>
