<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>자격검정 종료시간</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #f5f5f5;
        font-family: "Arial", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        text-align: center;
    }

    .container {
        width: 100%;
        max-width: 500px;
    }

    h1 {
        font-size: 38px;
        font-weight: 700;
        margin-bottom: 30px;
    }

    .input-row {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 20px;
    }

    input {
        width: 120px;
        padding: 20px;
        font-size: 26px;
        border-radius: 10px;
        border: 2px solid #ccc;
        text-align: center;
        outline: none;
    }

    button {
        width: 200px;
        padding: 18px;
        font-size: 24px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        margin-top: 15px;
    }

    #setBtn {
        background: #2ecc71;
        color: white;
    }

    #resetBtn {
        background: #e74c3c;
        color: white;
    }

    .current-time {
        font-size: 32px;
        font-weight: 700;
        margin-top: 20px;
    }

    .end-time {
        font-size: 22px;
        color: #555;
        margin-top: 10px;
    }

    .remain-title {
        font-size: 32px;
        margin-top: 30px;
        font-weight: 700;
        color: #333;
    }

    .remain-time {
        font-size: 50px;
        font-weight: 900;
        color: red;
        margin-top: 10px;
    }

</style>
</head>
<body>

<div class="container">

    <!-- 초기 입력 화면 -->
    <div id="inputSection">
        <h1>자격검정 종료시간</h1>

        <div class="input-row">
            <input type="number" id="hour" placeholder="시">
            <input type="number" id="minute" placeholder="분">
        </div>

        <button id="setBtn" onclick="setTime()">설정</button>
    </div>

    <!-- 결과 화면 -->
    <div id="resultSection" style="display:none;">
        <div class="current-time" id="nowTime"></div>
        <div class="end-time" id="endTime"></div>

        <div class="remain-title">남은시간</div>
        <div class="remain-time" id="remainTime"></div>

        <button id="resetBtn" onclick="resetAll()">재설정</button>
    </div>

</div>

<script>
let targetHour = null;
let targetMinute = null;
let timerInterval = null;

function setTime() {
    targetHour = Number(document.getElementById("hour").value);
    targetMinute = Number(document.getElementById("minute").value);

    if (isNaN(targetHour) || isNaN(targetMinute)) {
        alert("시간과 분을 정확히 입력하세요.");
        return;
    }

    document.getElementById("inputSection").style.display = "none";
    document.getElementById("resultSection").style.display = "block";

    updateClock();
    timerInterval = setInterval(updateClock, 1000);
}

function updateClock() {
    let now = new Date();
    let nowHour = now.getHours();
    let nowMin = now.getMinutes();
    let nowSec = now.getSeconds();

    document.getElementById("nowTime").innerText =
        `현재시간 : ${nowHour}시 ${nowMin}분 ${nowSec}초`;

    document.getElementById("endTime").innerText =
        `(종료시간 : ${targetHour}시 ${targetMinute}분)`;

    let end = new Date();
    end.setHours(targetHour);
    end.setMinutes(targetMinute);
    end.setSeconds(0);

    let diff = end - now;

    if (diff < 0) diff = 0;

    let rh = Math.floor(diff / 1000 / 3600);
    let rm = Math.floor((diff / 1000 % 3600) / 60);
    let rs = Math.floor(diff / 1000 % 60);

    document.getElementById("remainTime").innerText =
        `${rh}시간 ${rm}분 ${rs}초`;
}

function resetAll() {
    clearInterval(timerInterval);
    document.getElementById("resultSection").style.display = "none";
    document.getElementById("inputSection").style.display = "block";
}
</script>

</body>
</html>
